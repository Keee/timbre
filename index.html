<html>
  <head>
    <meta charset="utf-8" />
    <title>Timbre.js - JavaScript Library for Objective Sound Programming</title>
    <link type="text/css" rel="stylesheet" href="public/css/index.css" />
    <link type="text/css" rel="stylesheet" href="public/css/prettify.css" />
    <link type="text/css" rel="stylesheet" href="http://fonts.googleapis.com/css?family=Comfortaa:700">
  </head>
  <body>
    <canvas id="waveviewer"></canvas>
    <section id="body">
      <header style="margin:5px 0px 15px 0px">
        <h1 id="title"><a href="/timbre">Timbre.js</a></h1>
        <span>JavaScript Library for Objective Sound Programming</span><br/>
      </header>
      
      <section id="description">
        
      </section>
      
      <section id="contents">
        <h3>Latest Version</h3>
        <div>
          Right-click, and use "Save As"
          <ul>
            <li><a href="timbre.js">0.2.1a</a> (220.9KB)</li>
            <li><a href="timbre.min.js">minified</a> (86.5KB)</li>
          </ul>
        </div>
        
        <h3>System Requirement</h3>
        <div>
          <ul>
            <li>Google Chrome 14.0- (Web Audio API)</li>
            <li>Mozilla Firefox 4.0- (Audio Data API)</li>
          </ul>
        </div>
        
        <h3><a href="./documents">Documents</a></h3>
        
        <h3>Examples</h3>
        <div>
          <ul>
            <li><a href="./examples/004_timbresynth.html">Timbre Synthesizer</a></li>
            <li><a href="./examples/002_rhythmsequencer.html">Rhythm Sequencer</a></li>
            <li><a href="./examples/003_loadwavfiles.html">Piano and Drums</a></li>
          </ul>
        </div>
        
        <h3>Overview</h3>
        <div>
          <p>
            Timbre is so easy, useful and powerful.
          </p>
          <pre id="ex0" class="prettyprint">
T("*", T("sin", 1340),
       T("tri", 8, 0.8, 0.4).kr(),
       T("adsr", 500, 1500)).play();
          </pre>

          <p>
            Looks a bit like SuperCollider?? CUI Max/MSP???
          </p>
          <pre id="ex1" class="prettyprint">
delay = T("efx.delay", 125, 0.8, 0.75);

function synth(freq) {
    var s, env;
    s = T("*", T("fami", freq, 0.6),
               env = T("perc", 1000).bang());
    delay.append(s);
    if (delay.args.length >= 4) {
        delay.args.shift();
    }
}

index = 0;
list  = [ "C5", "D5", "E5", "G5", "C6", "D6", 
          "E6", "D6", "C6", "G5", "E5", "D5" ];

timer = T("interval", 380, function() {
    synth(timbre.utils.atof(list[index++]));
    if (index >= list.length) index = 0;
});

delay.onbang = function() {
    index = 0;
};
delay.onplay = function() {
    timer.on();
};
delay.onpause = function() {
    timer.off();
};

delay.play();
          </pre>
          
          <p>
            You can so easily learn it. Because it is pure JavaScript. Fun!!!
          </p>
          <pre id="ex2" class="prettyprint">
// Open your WebConsole and input below
//   > c, e , g [enter]
//   > f, gg, c [enter] 'gg' is G#
var pianotones = [], synth = [];
var lpf = T("lpf");

// load wav file and slice
T("wav", "./examples/public/audio/piano_cmaj.wav").load(function(res) {
    var dx = this.duration / 9;
    for (var i = 0; i < 9; i++) {
        pianotones[i] = this.slice(dx * i, dx * i + dx);
    }
}).set("mul", 0.5);

function playpiano(id) {
    lpf.append( pianotones[id].clone() );
    if (lpf.args.length >= 4) {
        lpf.args.shift();
    }
}

Object.defineProperty(window, "c", {
    get: function() { playpiano(3); }
});
// ...
          </pre>
        </div>
        
        <h3>Change Log</h3>
        <div id="changelog">
          <p>2012 06 07 - <strong>v0.2.1a</strong></p>
          <ul>
            <li>Added: timbre.setup(), so that the initial configuration</li>
          </ul>
          
          <p>2012 06 04 - <strong>v0.2.0</strong></p>
          <ul>
            <li>Added: T("phasor") and T("oscx")</li>
            <li>Added: T().isUndefined</li>
          </ul>
          
          <p>2012 06 02 - <strong>v0.1.0</strong></p>
          <ul>
            <li>Initial release of Timbre.js</li>
          </ul>
        </div>
        
        <footer>
          2012 Timbre.js - JavaScript Library for Objective Sound Programming
        </footer>
      </section>
    </section>

    <a href="https://github.com/mohayonao/timbre"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
    
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-21613416-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>    
    
  </body>
  <script type="text/javascript" src="public/js/prettify.js"></script>
  <script type="text/javascript">prettyPrint();</script>
  <script type="text/javascript" src="public/js/jquery.min.js"></script>
  <script type="text/javascript" src="public/js/waveviewer.js"></script>
  <script type="text/javascript" src="public/js/main.js"></script>
  <script type="text/javascript" src="timbre.js"></script>
  <script type="text/javascript" src="index.js"></script>  
</html>
